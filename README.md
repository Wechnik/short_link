# Сервис сокращения ссылок
+ Проект создан исключительно в целях демонстрации навыков проектирования и разработки.
+ Данный сервис можно сделать сильно проще, используя меньше технологий и подходов разработки, но в данном случае раздувание проекта преднамеренное.

## Использование

## Проектирование
### Нефункциональные требования (NFR)

1. Производительность и количество пользователей

* Время ответа на запросы сокращения или перенаправления ссылки не должно превышать 100 мс при нормальной нагрузке (10% от максимальной).
* Поддержка обработки до 300 запросов в секунду при нормальной нагрузке.
* До 10 000 запросов в секунду во время пиковой нагрузки.
* Количество запросов на создание ссылок (запись): 10 000/день (1 RPS)
* Количество запросов на переход по ссылкам (чтение): 20 000 000/день (230 RPS)

2. Требования к данным

* Длина ссылок к сокращению не должна быть более 1000 символов (согласно ASCII 8000 bit, или примерно 1 Kbyte)
* Объём данных в сутки: 10 000 Kbyte, или 10 Mb
* Объём данных в год: 3.65 Гб

3. Требования к хранению данных

* Хранить необходимо только активные ссылки. Если по ссылке не было перехода в течение 30 дней с момента последнего перехода её необходимо удалять.
* Ссылки имеющие наибольшее количество переходов должны быть доступны быстрее всего.

4. Масштабируемость

* Система должна поддерживать горизонтальное масштабирование для обработки роста нагрузки.
* Возможность хранения до 1 миллиона уникальных ссылок.

5. Доступность (SLA, SLO)

* Уровень доступности сервиса: 99.99%. (52,56 минут в год)
* Время восстановления после сбоя не должно превышать 15 минут.

6. Надёжность

* Данные сокращённых ссылок должны быть защищены от потерь даже в случае сбоя системы.
* Гарантия сохранения ссылок на протяжении 1 года.
* Для хранения backup'ов на 1 год необходимо 1.4 Tb 

7. Безопасность

* Ограничение на частоту запросов для предотвращения DDoS-атак.
* Шифрование всех данных при передаче (HTTPS).
* Предоставлять средства аутентификации авторизации для безопасного использования API 

8. Поддержка резервного копирования

* Регулярное создание резервных копий базы данных с сокращёнными ссылками раз в сутки.
* Хранение копий базы данных на других серверах.
* Возможность восстановления данных из резервной копии в течение 1 часа.

9. Совместимость

* Работа с популярными браузерами (Google Chrome, Mozilla Firefox, Microsoft Edge, Apple Safari, Samsung Internet, Opera) и операционными системами (Linux, MacOS, Windows, Android, IOS).
* Поддержка API для интеграции с внешними системами.

10. Обработка ошибок

* Возвращение понятных сообщений об ошибках пользователям.
* Логирование всех ошибок для их последующего анализа и устранения.
* Собранные логи должны храниться 1 месяц

11. Требования к деградации системы

* Система в случае неработоспособности одного из её компонентов должна возвращать ошибку пользователю.

### Функциональные требования
1. Создание сокращённых ссылок

* Сервис должен предоставлять возможность сокращения любого корректного URL-адреса через веб-интерфейс или API. 
* Корректным считается URL-адрес состоящий из поддомена (www, blog, shop), имени хоста (доменное имя (example) 
или IP (192.168.1.1)), домен верхнего уровня, или TLD (ru, com, io). - https://www.example.org
* Корректный адрес может содержать необязательные элементы: протокол (http, https), порт (:8080),
путь (/category/), страница (index.html), параметры (?id=123), якорь (#top)
* В случае ввода некорректного пользователь должен получить сообщение об этом "Введён не корректный URL-адрес". 
Далее должны быть указаны составные элементы корректного адреса.
  
+ Генерация уникального короткого идентификатора (УКИ) для каждой ссылки длиной 6 символов.
+ УКИ должен состоять из английских букв верхнего и нижнего регистра и цифр, например 3EoCYF.

* Сокращённая ссылка должна состоять из нашего зарегистрированного домена + TLD + / + УКИ, например mydomain.org/3EoCYF

2. Перенаправление

* Перенаправление пользователя на оригинальный URL при переходе по сокращённой ссылке.
* Поддержка перенаправления с сохранением параметров запроса (query parameters).

3. QR-код

* Генерация QR-кода для сокращённой ссылки.

4. Регистрация и авторизация

* Регистрации на сервисе не предусмотрено
* Предоставлять средства аутентификации и авторизации для API

5. Поддержка нескольких языков интерфейса

Локализация интерфейса для пользователей из разных стран. На данный момент используем 2 языка: Русский, Английский.
