# Нефункциональные требования (NFR)

1. Производительность и количество пользователей

* Время ответа на запросы сокращения или перенаправления ссылки не должно превышать **100 мс** при нормальной нагрузке (10% от максимальной).
* Поддержка обработки до **300** запросов в секунду при нормальной нагрузке.
* До **10 000** запросов в секунду во время пиковой нагрузки.
* Количество запросов на создание ссылок (запись): **10 000/день** (1 RPS)
* Количество запросов на переход по ссылкам (чтение): **20 000 000/день** (230 RPS)

2. Требования к данным

* Длина ссылок к сокращению не должна быть более 1000 символов (согласно ASCII - 8000 bit, или примерно 1 KB)
* Объём данных в сутки: **10 000 KB, или 10 MB**
* Объём данных в год: **3.65 GB**

3. Требования к хранению данных

* Хранить необходимо только активные ссылки. Если по ссылке не было перехода в течение 30 дней 
с момента последнего перехода её необходимо удалять.
* Ссылки имеющие наибольшее количество переходов должны быть доступны быстрее всего.

4. Масштабируемость

* Система должна поддерживать горизонтальное масштабирование для обработки роста нагрузки.
* Возможность хранения до 1 миллиона уникальных ссылок.

5. Доступность (SLA, SLO)

* Уровень доступности сервиса: **99.99%** (52,56 минут в год)
* Время восстановления после сбоя не должно превышать 15 минут.

6. Надёжность

* Данные сокращённых ссылок должны быть защищены от потерь даже в случае сбоя системы.
* Гарантия сохранения ссылок на протяжении 1 года.
* Сохранять копии необходимо по правилу 3-2-1 (3 копии, на 2х физических носителях, 1 за пределом компании)
* Для хранения backup'ов на 1 год необходимо **15 GB** 

7. Безопасность

* Ограничение на частоту запросов для предотвращения DDoS-атак.
* Шифрование всех данных при передаче (HTTPS).
* Предоставлять средства аутентификации авторизации для безопасного использования API 

8. Поддержка резервного копирования

* Регулярное создание резервных копий базы данных с сокращёнными ссылками раз в сутки.
* Хранение копий базы данных на других серверах.
* Возможность восстановления данных из резервной копии в течение 1 часа.

9. Совместимость

* Работа с популярными браузерами (Google Chrome, Mozilla Firefox, Microsoft Edge, Apple Safari, 
Samsung Internet, Opera) и операционными системами (Linux, MacOS, Windows, Android, IOS).
* Поддержка API для интеграции с внешними системами.

10. Обработка ошибок

* Возвращение понятных сообщений об ошибках пользователям.
* Логирование всех ошибок для их последующего анализа и устранения.
* Собранные логи должны храниться 1 месяц

11. Требования к деградации системы

* Система в случае неработоспособности одного из её компонентов должна возвращать ошибку пользователю.